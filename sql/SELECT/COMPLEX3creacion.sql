CREATE TABLE DEPART (
	DEPT_NO INTEGER(2),
	DNOMBRE VARCHAR(20),
	LOC VARCHAR(20),
CONSTRAINT PK_DEPART PRIMARY KEY (DEPT_NO)
);


CREATE TABLE EMPLE (
	EMP_NO INTEGER(4),
	APELLIDO VARCHAR(20),
	OFICIO VARCHAR(20),
	DIR INTEGER(4),
	FECHA_ALT DATE,
	SALARIO INTEGER(7),
	COMISION INTEGER(7),
	DEPT_NO INTEGER(2),
CONSTRAINT PK_EMPLE PRIMARY KEY (EMP_NO),
CONSTRAINT FK_EMPLE FOREIGN KEY (DEPT_NO) REFERENCES DEPART(DEPT_NO) ON DELETE CASCADE
);

INSERT INTO DEPART VALUES ('10','CONTABILIDAD','SEVILLA');
INSERT INTO DEPART VALUES ('20','INVESTIGACION','MADRID');
INSERT INTO DEPART VALUES ('30','VENTAS','BARCELONA');
INSERT INTO DEPART VALUES ('40','PRODUCCION','BILBAO');

INSERT INTO EMPLE VALUES ('7369','SANCHEZ','EMPLEADO','7902','1980-12-17','104000',NULL,'20');
INSERT INTO EMPLE VALUES ('7499','ARROYO','VENDEDOR','7698','1980-02-20','208000','39000','30');
INSERT INTO EMPLE VALUES ('7521','SALA','VENDEDOR','7698','1981-02-22','162500','162500','30');
INSERT INTO EMPLE VALUES ('7566','JIMENEZ','DIRECTOR','7839','1981-04-02','386750',NULL,'20');
INSERT INTO EMPLE VALUES ('7654','MARTIN','VENDEDOR','7698','1981-09-29','162500','182000','30');
INSERT INTO EMPLE VALUES ('7698','NEGRO','DIRECTOR','7839','1981-05-01','370500',NULL,'30');
INSERT INTO EMPLE VALUES ('7788','GIL','ANALISTA','7566','1981-11-09','390000',NULL,'20');
INSERT INTO EMPLE VALUES ('7839','REY','PRESIDENTE',NULL,'1981-11-17','650000',NULL,'10');
INSERT INTO EMPLE VALUES ('7844','TOVAR','VENDEDOR','7698','1981-09-08','195000','0','30');
INSERT INTO EMPLE VALUES ('7876','ALONSO','EMPLEADO','7788','1981-09-23','143000',NULL,'20');
INSERT INTO EMPLE VALUES ('7900','JIMENO','EMPLEADO','7698','1981-12-03','1235000',NULL,'30');
INSERT INTO EMPLE VALUES ('7902','FERNANDEZ','ANALISTA','7566','1981-12-03','390000',NULL,'20');
INSERT INTO EMPLE VALUES ('7934','MUÃ‘OZ','EMPLEADO',NULL,'1982-01-23','169000',NULL,'10');

ALTER TABLE EMPLE ADD CONSTRAINT FK2_EMPLE FOREIGN KEY (DIR) REFERENCES EMPLE(EMP_NO) ON DELETE CASCADE;

CREATE TABLE HERRAMIENTAS
(
	DESCRIPCION VARCHAR(20),
	ESTANTERIA INTEGER(1),
	UNIDADES INTEGER(2),
	CONSTRAINT PK_HERRAMIENTAS PRIMARY KEY (DESCRIPCION)
);

INSERT INTO HERRAMIENTAS VALUES ('Alicates', 1, 10);
INSERT INTO HERRAMIENTAS VALUES ('Cortador', 4, 5);
INSERT INTO HERRAMIENTAS VALUES ('Destornillador', 3, 7);
INSERT INTO HERRAMIENTAS VALUES ('Escofina', 6, 5);
INSERT INTO HERRAMIENTAS VALUES ('Guantes', 2, 7);
INSERT INTO HERRAMIENTAS VALUES ('Lima', 6, 10);
INSERT INTO HERRAMIENTAS VALUES ('Martillo', 3, 10);
INSERT INTO HERRAMIENTAS VALUES ('Metro', 5, 15);
INSERT INTO HERRAMIENTAS VALUES ('Sierra', 4, 5);
INSERT INTO HERRAMIENTAS VALUES ('Soldador', 1, 15);


CREATE TABLE HOSPITALES
(
	COD_HOSPITAL INTEGER(1),
	NOMBRE VARCHAR (25),
	DIRECCION VARCHAR(25),
	NUM_PLAZAS INTEGER(3),
	CONSTRAINT PK_HOSPITALES PRIMARY KEY (COD_HOSPITAL)
);

INSERT INTO HOSPITALES VALUES (1, 'RAFAEL MENDEZ', 'GRAN VIA, 7', 250);
INSERT INTO HOSPITALES VALUES (2, 'REINA SOFIA', 'JUNTERONES, 5', 225);
INSERT INTO HOSPITALES VALUES (3, 'PRINCIPE ASTURIAS', 'AVENIDA COLON', 150);
INSERT INTO HOSPITALES VALUES (4, 'VIRGEN DE LA ARRIXACA', 'AVENIDA JUAN CARLOS, I', 250);



CREATE TABLE PERSONAS
(
	COD_HOSPITAL INT(10),
	DNI VARCHAR(9),
	APELLIDOS VARCHAR(30),
	FUNCION VARCHAR(20),
	SALARIO INT(10),
	CONSTRAINT PK_PER PRIMARY KEY (DNI),
	CONSTRAINT FK_PE FOREIGN KEY (COD_HOSPITAL) REFERENCES HOSPITALES(COD_HOSPITAL)
);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'12345678','Garcia Hernandez, Eladio','CONSERJE',1500);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'22233311','Martinez Molina, Gloria','MEDICO',1600);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'22233322','Tristan Garcia, Ana','MEDICO',1900);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'22233333','Martienez Molina, Andres','MEDICO',1600);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'33222111','Mesa del Castillo , Juan','MEDICO',2200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (3,'55544411','Ruiz Hernandez, Caridad','MEDICO',19000);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (4,'55544412','Jimenez Jimenez, Dolores','CONSERJE',1200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (2,'55544433','Gonzalez Martin, Alicia','CONSERJE',1200);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'66655544','Castillo Montes, Pedro','MEDICO',1700);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (1,'87654321','Fuentes Bermejo, Carlos','DIRECTOR',2000);
INSERT INTO PERSONAS (COD_HOSPITAL,DNI,APELLIDOS,FUNCION,SALARIO) VALUES (3,'99988333','Serrano Diaz, Alejandro','DIRECTOR',2400);


CREATE TABLE MEDICOS
(
	COD_HOSPITAL INT(2),
	DNI VARCHAR(9),
	APELLIDOS VARCHAR(30),
	ESPECIALIDAD VARCHAR(20),
CONSTRAINT PK_MEDICOS PRIMARY KEY(DNI)

);
ALTER TABLE MEDICOS ADD CONSTRAINT FK1_MEDICOS FOREIGN KEY(DNI) REFERENCES PERSONAS(DNI);
ALTER TABLE MEDICOS ADD CONSTRAINT FK2_MEDICOS FOREIGN KEY(COD_HOSPITAL) REFERENCES HOSPITALES(COD_HOSPITAL);

INSERT INTO MEDICOS
VALUES(4,'22233311','MARTINEZ MOLINA, GLORIA','PSIQUIATRA');
INSERT INTO MEDICOS
VALUES(2,'22233322','TRISTAN GARCIA, ANA','CIRUJANO');
INSERT INTO MEDICOS
VALUES(2,'22233333','MARTINEZ MOLINA, ANDRES','CIRUJANO');
INSERT INTO MEDICOS
VALUES(4,'33222111','MESA DEL CASTILLO, JUAN','DERMATOLOGO');
INSERT INTO MEDICOS
VALUES(1,'66655544','CASTILLO MONTES, PEDRO','PSIQUIATRA');